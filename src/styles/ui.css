/* =========================================================
  3C MALL — UI SYSTEM (SINGLE SOURCE OF TRUTH)
  Concierge · Cost · Community
  NO SCROLL · APP-LIKE · SYMMETRICAL · CLEAN
  Theme BACKDROP image only + subtle motion (alive) — NO glass blur
  ========================================================= */

/* =========================================================
  RESET + APP CONSTRAINTS
  ========================================================= */
*,
*::before,
*::after { box-sizing: border-box; }

html, body{
  height: 100%;
  width: 100%;
  margin: 0;
  overflow: hidden;     /* NO SCROLL */
  overflow-x: hidden;
}

body{
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  position: relative;
  background: linear-gradient(180deg, var(--bg1), var(--bg0));
}

#root{
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  isolation: isolate;
  overflow: hidden;
}

/* =========================================================
  TOKENS (BRAND FIRST)
  ========================================================= */
:root{
  /* Brand */
  --blue:#7ee0ff;
  --blueDeep:#1f5dff;
  --gold:#f6dc8a;

  /* Base */
  --bg0:#02040a;
  --bg1:#050912;

  --text:#f4f6ff;
  --muted:#a9b4d2;
  --muted2:#8d98b6;
  --blackText:#0b0f17;

  /* ONE image layer (theme backdrop only) */
  --theme-image: none;

  /* Overlay (readability) */
  --bgOverlayTop: rgba(2,4,10,.18);
  --bgOverlayBottom: rgba(2,4,10,.45);

  /* Energy glows */
  --themeGlowA: rgba(126,224,255,.14);
  --themeGlowB: rgba(246,220,138,.10);
  --themeGlowC: rgba(31,93,255,.12);

  /* Surfaces */
  --surface: rgba(255,255,255,.08);
  --surface-strong: rgba(255,255,255,.14);
  --surface-border: rgba(255,255,255,.18);

  --divider: rgba(255,255,255,.14);
}

/* =========================================================
  THEMES (Images must be in /public/themes/)
  ========================================================= */

/* MIDNIGHT LUX */
html[data-theme="midnight-lux"]{
  --bg0:#02040a;
  --bg1:#050912;

  --text:#f4f6ff;
  --muted:#a9b4d2;
  --muted2:#8d98b6;

  --bgOverlayTop: rgba(2,4,10,.18);
  --bgOverlayBottom: rgba(2,4,10,.55);

  --themeGlowA: rgba(126,224,255,.14);
  --themeGlowB: rgba(246,220,138,.10);
  --themeGlowC: rgba(31,93,255,.12);

  --surface: rgba(255,255,255,.07);
  --surface-strong: rgba(255,255,255,.12);
  --surface-border: rgba(255,255,255,.16);

  --theme-image: none; /* stays clean */
}

/* VELOCITY RED */
html[data-theme="velocity-red"]{
  --bg0:#05050a;
  --bg1:#0b0b14;

  --text:#f7f7ff;
  --muted:#c2c3da;
  --muted2:#a8aac7;

  --bgOverlayTop: rgba(10,0,4,.16);
  --bgOverlayBottom: rgba(10,0,4,.48);

  --themeGlowA: rgba(255, 52, 82, .22);
  --themeGlowB: rgba(246, 220, 138, .12);
  --themeGlowC: rgba(255, 42, 42, .16);

  --surface: rgba(255,255,255,.08);
  --surface-strong: rgba(255,255,255,.14);
  --surface-border: rgba(255,90,90,.35);

  --theme-image: url("/themes/velocity-red-bg.jpg");
}

/* PEARL LUXE — darker text for readability */
html[data-theme="pearl-luxe"]{
  --bg0:#0b1018;
  --bg1:#111a26;

  --text:#0f172a;
  --muted:#243041;
  --muted2:#3a4657;
  --blackText:#0b1220;

  --bgOverlayTop: rgba(255,255,255,.08);
  --bgOverlayBottom: rgba(255,255,255,.22);

  --themeGlowA: rgba(180,197,216,.14);
  --themeGlowB: rgba(246,220,138,.10);
  --themeGlowC: rgba(111,143,176,.10);

  --surface: rgba(255,255,255,.78);
  --surface-strong: rgba(255,255,255,.92);
  --surface-border: rgba(210,190,120,.55);

  --theme-image: url("/themes/pearl-luxe-bg.jpg");
}

/* RETRO FUSION — darker text for readability */
html[data-theme="retro-fusion"]{
  --bg0:#040610;
  --bg1:#070a18;

  --text:#0b1220;
  --muted:#1f2a3a;
  --muted2:#37465a;
  --blackText:#0b1220;

  --bgOverlayTop: rgba(255,255,255,.06);
  --bgOverlayBottom: rgba(255,255,255,.16);

  --themeGlowA: rgba(120,255,214,.12);
  --themeGlowB: rgba(124,92,255,.10);
  --themeGlowC: rgba(255,207,107,.09);

  --surface: rgba(255,255,255,.30);
  --surface-strong: rgba(255,255,255,.46);
  --surface-border: rgba(0,0,0,.18);

  --theme-image: url("/themes/retro-fusion-bg.jpg");
}

/* =========================================================
  BACKDROP LAYER (IMAGE + SUBTLE MOTION) — BEHIND EVERYTHING
  ========================================================= */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -3;
  pointer-events: none;

  background-image: var(--theme-image);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  transform: scale(1.08);
  animation: bg-drift 26s ease-in-out infinite alternate;
  opacity: 1;
}

/* Glows + readability overlay */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;

  background:
    radial-gradient(circle at 18% 20%, var(--themeGlowA), transparent 55%),
    radial-gradient(circle at 86% 12%, var(--themeGlowB), transparent 55%),
    radial-gradient(circle at 70% 88%, var(--themeGlowC), transparent 60%),
    linear-gradient(180deg, var(--bgOverlayTop), var(--bgOverlayBottom));

  animation: glow-breathe 10s ease-in-out infinite;
}

@keyframes bg-drift{
  0%   { transform: scale(1.08) translate3d(-0.8%, -0.6%, 0); filter: saturate(1.02) contrast(1.02); }
  50%  { transform: scale(1.10) translate3d(0.6%, -0.2%, 0);  filter: saturate(1.04) contrast(1.03); }
  100% { transform: scale(1.08) translate3d(0.8%, 0.6%, 0);  filter: saturate(1.02) contrast(1.02); }
}

@keyframes glow-breathe{
  0%   { opacity: .90; }
  50%  { opacity: 1.00; }
  100% { opacity: .90; }
}

@media (prefers-reduced-motion: reduce){
  body::before, body::after{ animation: none !important; }
}

/* =========================================================
  APP PAGE BANDS
  ========================================================= */
.page{
  height: 100%;
  width: 100%;
  display: grid;
  grid-template-rows: auto 1fr auto; /* header/content/footer */
  padding: 0;
  min-height: 0;
  overflow: hidden;
}

/* Header image removed per request */
.brand-emblem{ display: none; }

/* Content band */
.page-content{
  padding: 12px;
  display: grid;
  align-content: start;
  gap: 12px;
  overflow: hidden;
  min-height: 0;
}

/* Footer band */
.page-footer{
  padding: 10px 12px 12px;
  border-top: 1px solid var(--divider);
  display: flex;
  gap: 10px;
  justify-content: center;
  overflow: hidden;
}

/* =========================================================
  GRID (FENG SHUI)
  ========================================================= */
.fit-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
  min-height: 0;
}
.tile-hero{ grid-column: 1 / -1; }

@media (max-width: 560px){
  .fit-grid{ grid-template-columns: 1fr; }
  .page-content{ padding-left: 10px; padding-right: 10px; }
}

/* =========================================================
  TILES (NO GLASS, BACKDROP VISIBLE BEHIND THEM)
  ========================================================= */
.tile{
  border-radius: 18px;
  border: 1px solid var(--surface-border);
  background: linear-gradient(180deg, var(--surface-strong), var(--surface));

  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;

  padding: 14px;
  display: grid;
  gap: 6px;
  min-height: 88px;
  min-width: 0;
  overflow: hidden;
}

.tile-title{
  font-weight: 900;
  letter-spacing: .02em;
  color: var(--gold);
}
.tile-desc{
  font-size: .86rem;
  color: var(--muted);
  line-height: 1.3;
}

/* =========================================================
  TYPE
  ========================================================= */
.kicker{
  font-size: .70rem;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: var(--blue);
}
.h1{
  font-size: 1.55rem;
  font-weight: 900;
  margin-top: 2px;
}
.sub{
  font-size: .92rem;
  color: var(--muted);
}
.small{
  font-size: .82rem;
  color: var(--muted2);
}

/* =========================================================
  PILL (Mode)
  ========================================================= */
.pill{
  display:inline-flex;
  flex-direction:column;
  gap:2px;
  border-radius: 999px;
  border: 1px solid var(--surface-border);
  background: linear-gradient(180deg, var(--surface-strong), var(--surface));
  padding: 10px 14px;
  font-size: .82rem;
}
.pill span{
  font-size: .68rem;
  letter-spacing: .16em;
  text-transform: uppercase;
  color: var(--muted2);
}
.pill strong{ color: var(--gold); }

/* =========================================================
  BUTTONS (CLEAN — NO BACKDROP ON BUTTONS)
  ========================================================= */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .4rem;
  border-radius: 999px;
  padding: .70rem 1rem;
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: .75rem;
  border: none;
  cursor: pointer;
  white-space: nowrap;
  max-width: 100%;
  min-width: 0;
}

.btn-primary{
  background: linear-gradient(135deg, var(--gold), var(--blue));
  color: var(--blackText);
  box-shadow: 0 14px 34px rgba(0,0,0,.28);
}

.btn-secondary{
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(126,224,255,.28);
  color: var(--blue);
}

.btn-ghost{
  background: transparent;
  border: 1px solid rgba(246,220,138,.35);
  color: var(--gold);
}

/* =========================================================
  NO SIDE SCROLL — EVER
  ========================================================= */
html, body, #root,
.page, .page-content, .fit-grid, .tile,
.cc-panel, .cc-grid{
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  min-width: 0;
}

.tile-title, .tile-desc, .kicker, .h1, .sub, .small{
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* =========================================================
  CONCIERGE OVERLAY (CRISP, NOT SEE-THROUGH)
  ========================================================= */
.cc-overlay{
  position: fixed;
  inset: 0;
  z-index: 999;
  display: grid;
  place-items: center;
  pointer-events: auto;
}

.cc-backdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.55);
}

.cc-panel{
  position: relative;
  width: min(980px, calc(100vw - 22px));
  max-height: calc(100vh - 22px);
  border-radius: 20px;
  border: 1px solid var(--surface-border);
  background: rgba(12, 16, 26, .94);
  box-shadow: 0 24px 72px rgba(0,0,0,.55);
  overflow: hidden;
  display: grid;
  grid-template-rows: auto 1fr;
}

.cc-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 14px;
  border-bottom: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
}

.cc-head-left{
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
}

.cc-badge{
  height: 38px;
  width: 38px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-weight: 900;
  letter-spacing: .08em;
  color: var(--blackText);
  background: linear-gradient(135deg, var(--gold), var(--blue));
  flex: 0 0 auto;
}

.cc-title{
  font-weight: 900;
  letter-spacing: .02em;
  font-size: 1.05rem;
  color: #fff;
}
.cc-sub{
  font-size: .72rem;
  letter-spacing: .16em;
  text-transform: uppercase;
  color: rgba(255,255,255,.72);
}

.cc-actions{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.cc-body{
  padding: 14px;
  display: grid;
  gap: 12px;
  overflow: auto; /* internal only */
}

.cc-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}
@media (max-width: 560px){
  .cc-grid{ grid-template-columns: 1fr; }
}

.cc-choice{
  text-align: left;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  padding: 14px;
  cursor: pointer;
  transition: transform .18s ease, filter .18s ease, border-color .18s ease;
  color: #fff;
  min-height: 78px;
}

.cc-choice:hover{
  transform: translateY(-2px);
  filter: brightness(1.04);
  border-color: rgba(126,224,255,.28);
}

.cc-choice-title{
  font-weight: 900;
  letter-spacing: .02em;
  color: var(--gold);
  margin-bottom: 4px;
}

.cc-choice-desc{
  color: rgba(255,255,255,.78);
  font-size: .88rem;
  line-height: 1.3;
}

.cc-pill{
  position: fixed;
  z-index: 998;
  right: 14px;
  bottom: 14px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  border-radius: 999px;
  padding: .72rem .95rem;
  border: 1px solid rgba(126,224,255,.28);
  background: rgba(12,16,26,.92);
  color: #fff;
  box-shadow: 0 18px 44px rgba(0,0,0,.45);
  cursor: pointer;
}

.cc-pill-badge{
  height: 28px;
  width: 28px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-weight: 900;
  letter-spacing: .08em;
  color: var(--blackText);
  background: linear-gradient(135deg, var(--gold), var(--blue));
}

.cc-pill-text{
  font-weight: 900;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: .72rem;
}